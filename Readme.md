# ExtraVentricular Drain (EVD) Planning Tool

This code is associated with the paper published in Neurosurgical Focus.
If you use this code, please cite the paper.

```bibtex
@article{de_Boer_Fully_Automatic_Anatomical_2025,
author = {de Boer, Mathijs and van Doormaal, Jesse A.M. and KÃ¶llen, Mare H. and Bartels, Lambertus W. and Robe, Pierre A.J.T. and van Doormaal, Tristan P.C.},
doi = {10.3171/2025.4.FOCUS25163},
journal = {Neurosurgical Focus},
month = jul,
number = {7},
title = {{"Fully Automatic Anatomical Landmark Localization and Trajectory Planning for Navigated External Ventricular Drain Placement"}},
volume = {58},
year = {2025}
}
```

The above citation is provided for convenience, but we encourage you to use the citation format of your choice, as generated by your preferred citation manager.

## Requirements

All requirements are documented in the `cargo.toml` and `pyproject.toml` files.
Building the project requires **both** the Rust compiler and the Python interpreter.

At time of writing, we used the following versions:

- Rust 1.84.0
- Python 3.12.8

> [!IMPORTANT]
> Post-publication notice:
> We have pinned the maximum supported Python version to 3.12 to ensure that the released code is compatible with the published paper.
> We currently see no issues in updating the Python version and packages to later ones, but responsibility of correctness lies with the user.
> 
> To this end, we've updated the project to work better with `uv`, to reduce friction in getting started with the project.
> 
> Finally, we used `cargo-msrv` to find the minimum supported Rust version, which is 1.74.1.

## Installation

To install the project, clone the repository, open a terminal in the project directory and run the following command:

```bash
pip install .
```

> [!WARNING]
> We highly recommend using a virtual environment to avoid conflicts with other projects.

## Usage

We provide a set of CLI commands to interact with the main functionalities of the project.
Each command will start with `evd` followed by the subcommand.
Note that subcommands can have their own subcommands.

To see the list of available commands, run:

```bash
evd --help
```

This will also work for subcommands:

```bash
evd subcommand --help
```

We include `trogon` integration to run the commands in a TUI environment.

```bash
evd tui
```

> [!WARNING]
> `trogon` is a fairly experimental library and may not work as expected.

## License

This project is licensed under the MIT License - see the [LICENSE](License) file for details.
